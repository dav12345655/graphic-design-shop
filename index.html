<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Online Graphic Shop</title>

<!-- SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<!-- Paystack inline -->
<script src="https://js.paystack.co/v1/inline.js"></script>

<style>
  :root {
    --bg1: #4f46e5;
    --bg2: #7c3aed;
    --card: rgba(255, 255, 255, 0.25);
    --border: rgba(255, 255, 255, 0.3);
    --muted: #6b7280;
  }
  html,body {
    height:100%;margin:0;
    font-family: "Inter", system-ui, Segoe UI, Arial, sans-serif;
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    color:#0f172a;
  }
  header {
    background: rgba(255,255,255,0.15);
    color:#fff;
    padding:60px 10px 40px;
    text-align:center;
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border);
  }
  header h1 {margin:0;font-size:42px;font-weight:900;}
  header p {margin:6px 0 0;opacity:0.9;font-size:15px;}

  .top-buttons {
    position: fixed;
    top: 20px;
    right: 20px;
    display:flex;
    flex-direction:column;
    gap:10px;
    z-index:1000;
    align-items:flex-end;
  }
  .cart-btn, .wallet-display {
    background: var(--card);
    backdrop-filter: blur(10px);
    color:#fff;
    border-radius:30px;
    padding:10px 16px;
    display:flex;
    align-items:center;
    gap:6px;
    border:1px solid var(--border);
    cursor:pointer;
    font-weight:700;
    box-shadow:0 8px 24px rgba(0,0,0,0.15);
  }
  .logout-btn {
    background: rgba(239,68,68,0.9);
    color:#fff;
    border:none;
    border-radius:20px;
    padding:6px 12px;
    font-weight:700;
    font-size:13px;
    box-shadow:0 6px 16px rgba(0,0,0,0.15);
    cursor:pointer;
  }
  .logout-btn:hover {opacity:0.9;}

  .container {
    max-width:1100px;
    margin:20px auto;
    padding:12px;
  }
  .product-grid {
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
    gap:18px;
  }
  .product {
    background:var(--card);
    backdrop-filter: blur(15px);
    border:1px solid var(--border);
    border-radius:14px;
    overflow:hidden;
    box-shadow:0 8px 24px rgba(16,24,40,0.15);
    display:flex;
    flex-direction:column;
    transition:transform 0.2s ease,box-shadow 0.2s ease;
  }
  .product:hover {transform:translateY(-3px);box-shadow:0 10px 28px rgba(16,24,40,0.25);}
  .product img {width:100%;height:180px;object-fit:cover;}
  .info {padding:10px 12px;flex:1;display:flex;flex-direction:column;justify-content:space-between}
  .info h3 {margin:0;font-size:16px;font-weight:700;color:#fff;}
  .info p {margin:4px 0 0;color:#e5e7eb;font-size:14px}
  .price {font-weight:800;font-size:15px;margin-top:8px;color:#fff;}
  .btn {
    background:linear-gradient(90deg,#0ea5e9,#7c3aed);
    color:#fff;border:0;border-radius:8px;
    padding:10px;font-weight:700;cursor:pointer;
    transition:opacity 0.2s ease;
  }
  .btn:hover {opacity:0.9;}
  footer {
    text-align:center;color:#fff;padding:20px;font-size:13px;margin-top:40px;
  }

  /* Blog Section */
  .blog-section {
    margin:60px auto;
    max-width:1100px;
    padding:20px;
  }
  .blog-section h2 {
    color:#fff;
    text-align:center;
    font-size:30px;
    font-weight:900;
    margin-bottom:30px;
    text-shadow:0 2px 10px rgba(0,0,0,0.3);
  }
  .blog-grid {
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
    gap:20px;
  }
  .blog-card {
    background: var(--card);
    border:1px solid var(--border);
    border-radius:16px;
    overflow:hidden;
    box-shadow:0 8px 20px rgba(0,0,0,0.2);
    backdrop-filter: blur(10px);
    cursor:pointer;
    transition:transform 0.3s ease;
  }
  .blog-card:hover {transform:translateY(-5px);}
  .blog-card img {
    width:100%;
    height:180px;
    object-fit:cover;
  }
  .blog-card .blog-content {
    padding:16px;
    color:#fff;
  }
  .blog-card h3 {margin:0;font-size:18px;font-weight:700;}
  .blog-card p {margin-top:6px;color:#e5e7eb;font-size:14px;}

  /* Whatsapp */
  .whatsapp {
    position:fixed;right:18px;bottom:18px;width:64px;height:64px;border-radius:50%;
    background:#25D366;color:#fff;display:flex;align-items:center;justify-content:center;font-size:28px;
    z-index:9999;box-shadow:0 10px 30px rgba(2,6,23,0.25);text-decoration:none;
  }

  @media (max-width:600px){
    header h1 {font-size:28px;}
    .top-buttons{top:15px;right:10px;}
  }
</style>
</head>
<body>
  <header>
    <h1>Welcome to Online Graphic Shop</h1>
    <p>Creative designs, flyers, posters & more</p>
  </header>

  <div class="top-buttons">
    <button class="logout-btn" id="logoutBtn">Logout</button>
    <div id="walletDisplay" class="wallet-display" title="Click to deposit">ðŸ’° Wallet: â‚¦<span id="wallet-amount">0.00</span></div>
    <div class="cart-btn" id="cartBtn" title="View cart">ðŸ›’ Cart (<span id="cart-count">0</span>)</div>
  </div>

  <div class="container">
    <div class="product-grid" id="product-grid"></div>
  </div>

  <!-- Blog Section -->
  <section class="blog-section">
    <h2>Insights & Inspiration from the World of Design</h2>
    <div class="blog-grid" id="blogGrid"></div>
  </section>

  <footer>Â© <span id="year"></span> Online Graphic Shop â€” Designed by <strong>ABblack</strong></footer>
  <a class="whatsapp" href="https://wa.me/2349121383292" target="_blank">ðŸ’¬</a>

<script>
document.getElementById("year").textContent=new Date().getFullYear();

let storedProducts = JSON.parse(localStorage.getItem("products")) || [];
let products = storedProducts.length ? storedProducts : [
  {name:"Party",price:3000,category:"FLYER",image:"https://i.pinimg.com/1200x/41/61/f4/4161f44b77d1240bf7549c6dbb445055.jpg"},
  {name:"Blast",price:2000,category:"FLYER",image:"https://i.pinimg.com/1200x/ab/d3/79/abd379cd2b568cb5503662c48d3c981f.jpg"},
  {name:"The GOAT",price:2000,category:"GRAPHICS",image:"https://i.pinimg.com/736x/d2/62/9a/d2629a92a49e363ed0446bcc3a98f66a.jpg"},
  {name:"V Design",price:2500,category:"GRAPHICS",image:"https://i.pinimg.com/1200x/3a/15/f2/3a15f2cb8387639c5abec72284267654.jpg"}
];

function readCart(){try{return JSON.parse(localStorage.getItem('ogshop_cart'))||[];}catch{return[];}}
function saveCart(cart){localStorage.setItem('ogshop_cart',JSON.stringify(cart));}
function readWallet(){return parseFloat(localStorage.getItem('ogshop_wallet'))||0;}
function saveWallet(amount){localStorage.setItem('ogshop_wallet',amount);}

const grid=document.getElementById('product-grid');
const cartBtn=document.getElementById('cartBtn');
const walletDisplay=document.getElementById('walletDisplay');
const walletAmountEl=document.getElementById('wallet-amount');
const logoutBtn=document.getElementById('logoutBtn');

let cart=readCart();
let wallet=readWallet();

function updateCartCount(){document.getElementById('cart-count').textContent=cart.length;}
function updateWallet(){walletAmountEl.textContent=wallet.toLocaleString();saveWallet(wallet);}
updateCartCount();updateWallet();

function renderProducts(){
  grid.innerHTML='';
  products.forEach((p,i)=>{
    grid.innerHTML+=`
      <div class="product">
        <img src="${p.image}" alt="${p.name}">
        <div class="info">
          <div>
            <h3>${p.name}</h3>
            <p>${p.category}</p>
            <div class="price">â‚¦${p.price.toLocaleString()}</div>
          </div>
          <button class="btn" onclick="preview(${i})">Preview</button>
        </div>
      </div>`;
  });
}
renderProducts();

function preview(i){
  const p=products[i];
  Swal.fire({
    title:p.name,
    html:`<img src="${p.image}" style="width:100%;border-radius:10px;margin-bottom:10px"><p>${p.category}</p><p><b>â‚¦${p.price.toLocaleString()}</b></p>`,
    showCancelButton:true,
    confirmButtonText:'Add to Cart',
    cancelButtonText:'Close',
    confirmButtonColor:'#4f46e5'
  }).then(res=>{
    if(res.isConfirmed)addToCart(p);
  });
}
function addToCart(p){
  if(wallet<p.price)return Swal.fire('Insufficient Balance',`You need â‚¦${p.price.toLocaleString()}`, 'warning');
  if(cart.find(x=>x.name===p.name))return Swal.fire('Already in cart',`${p.name} already added.`, 'info');
  cart.push(p);saveCart(cart);updateCartCount();
  Swal.fire('Added!','Product added successfully.','success');
}

walletDisplay.onclick=()=>{
  Swal.fire({
    title:'Deposit Funds',
    input:'number',
    inputLabel:'Enter amount (â‚¦100â€“â‚¦50,000)',
    inputAttributes:{min:100,max:50000},
    showCancelButton:true,
    confirmButtonText:'Deposit',
    confirmButtonColor:'#0ea5e9'
  }).then(r=>{
    if(r.isConfirmed){
      const amt=Number(r.value);
      if(amt<100||amt>50000)return Swal.fire('Invalid','Enter between â‚¦100â€“â‚¦50,000','error');
      wallet+=amt;updateWallet();
      Swal.fire('Deposit successful',`â‚¦${amt.toLocaleString()} added to wallet`,'success');
    }
  });
};

cartBtn.onclick=()=>{
  if(!cart.length)return Swal.fire('Cart Empty','Add items before checkout.','info');
  Swal.fire({
    title:'Your Cart',
    html:cart.map((x,i)=>`<div style="display:flex;justify-content:space-between;padding:5px 0">
      <span>${x.name} - â‚¦${x.price.toLocaleString()}</span>
      <button class='btn' style='padding:5px 8px;background:#ef4444' onclick='removeItem(${i})'>X</button>
    </div>`).join(''),
    showCancelButton:true,
    confirmButtonText:'Checkout'
  }).then(r=>{
    if(r.isConfirmed)window.location='checkout.html';
  });
};
function removeItem(i){cart.splice(i,1);saveCart(cart);updateCartCount();cartBtn.click();}

logoutBtn.onclick=()=>{
  Swal.fire({
    title:'Logout?',
    text:'You will be signed out of your account.',
    icon:'warning',
    showCancelButton:true,
    confirmButtonText:'Yes, Logout',
    confirmButtonColor:'#ef4444'
  }).then(res=>{
    if(res.isConfirmed){
      localStorage.removeItem('loggedInUser');
      Swal.fire('Logged out','You have been signed out.','success');
      setTimeout(()=>window.location='login.html',1200);
    }
  });
};

/* Blog Cards */
const blogPosts = [
  {
    title: "Why You Need a Graphic Designer",
    image: "https://i.pinimg.com/736x/db/e3/d4/dbe3d47c35a749790fdbd9a3ee7b30a7.jpg",
    content: "A skilled graphic designer can transform your brand into a powerful visual story. From logos to promotional materials, every element speaks volumes about your identity. In a world driven by visuals, design is not luxury â€” itâ€™s a necessity for impact and memorability."
  },
  {
    title: "Do You Need a Graphic Designer?",
    image: "https://i.pinimg.com/originals/41/9f/69/419f69d90c3c9b4f1cba309c4309c6f9.jpg",
    content: "Professional design isnâ€™t just about beauty â€” itâ€™s about communication. A good designer knows how to balance creativity with purpose, crafting visuals that attract, inform, and persuade. The question is not â€˜ifâ€™ you need one, but how soon you can start."
  },
  {
    title: "Color Psychology in Modern Branding",
    image: "https://i.pinimg.com/736x/2a/58/6a/2a586ae08755a8ea1953a41b097c1d55.jpg",
    content: "Colors evoke emotions and shape perception. Blue builds trust, red ignites excitement, and yellow sparks creativity. Understanding color psychology gives your brand an edge in creating deeper emotional connections with your audience."
  },
  {
    title: "Minimalist Design: The Power of Less",
    image: "https://i.pinimg.com/736x/83/2d/09/832d090bb4ce65f4b3b2c6e0b52fa428.jpg",
    content: "Minimalism focuses on clarity, space, and intention. By reducing clutter and emphasizing core messages, minimalist designs increase focus and improve user experience. In design, less truly becomes more."
  }
];

const blogGrid = document.getElementById('blogGrid');
blogPosts.forEach((post, i) => {
  const card = document.createElement('div');
  card.className = 'blog-card';
  card.innerHTML = `
    <img src="${post.image}" alt="${post.title}">
    <div class="blog-content">
      <h3>${post.title}</h3>
      <p>${post.content.substring(0, 80)}...</p>
    </div>`;
  card.onclick = () => {
    Swal.fire({
      title: post.title,
      html: `<img src="${post.image}" style="width:100%;border-radius:10px;margin-bottom:10px"><p style="text-align:left">${post.content}</p>`,
      confirmButtonText:'Close',
      confirmButtonColor:'#7c3aed'
    });
  };
  blogGrid.appendChild(card);
});
</script>
</body>
</html>
